<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IDLE TPOT v0.1</title>
    <link rel="icon" type="image/png" href="logo.png">
    <style>
        /* CSS Styles */

        body {
            margin: 0;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #000000;
            color: #ffffff;
        }

        .container {
            display: flex;
        }

        .column {
            padding: 20px;
            height: 100vh;
            overflow-y: auto;
        }

        .left-column {
            width: 20%;
            background-color: #000000;
            border-right: 1px solid #1DA1F2;
        }

        .center-column {
            width: 40%;
            background-color: #000000;
            border-right: 1px solid #1DA1F2;
        }

        .upgrade-column {
            width: 20%;
            background-color: #000000;
            border-right: 1px solid #1DA1F2;
        }

        .right-column {
            width: 20%;
            background-color: #000000;
        }

        h1, h2, h3, p, button {
            color: #ffffff;
        }

        .header {
            display: flex;
            align-items: baseline; /* Aligns text baselines for better visual alignment */
        }

        .header h2, .header h4 {
            margin: 0; /* Removes default margins */
        }

        .header h2 {
            margin-right: 10px; /* Adjust spacing between the elements */
        }

        .header a {
            color: #1DA1F2; /* Link color */
            text-decoration: none; /* Removes underline from the link */
        }


        button {
            background-color: #1DA1F2;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin-top: 10px;
            color: #ffffff;
            font-size: 16px;
            border-radius: 20px;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        #poastButton {
            width: 100%;
            height: 60px;
            font-size: 20px;
            border-radius: 30px;
        }

        button:hover {
            background-color: #0d8ddb;
        }

        .upgrade, .autopoaster {
            border: 1px solid #1DA1F2;
            padding: 10px;
            margin-bottom: 10px;
        }

        .disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .stats, .currencies, .followers {
            margin-bottom: 20px;
        }

        .menu {
            margin-bottom: 20px;
        }

        .poast {
            border-bottom: 1px solid #1DA1F2;
            padding: 10px 0;
        }

        /* Added styles for the poast currencies */
        .poast-currencies {
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 18px;
            margin-top: 10px;
        }

        .ko-fi {
            margin-top: 20px;
        }

        .ko-fi a {
            color: #1DA1F2;
            text-decoration: none;
        }

        .save-buttons {
            margin-top: 20px;
        }

        textarea {
            width: 100%;
            height: 100px;
        }

        .purchase-stats button {
            width: 100%;
            margin-top: 5px;
        }

        /* Notification Styles */
        #notification {
            margin-top: 10px;
            color: #1DA1F2;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        /* Tooltip Styles */
        .tooltip {
            position: relative;
            display: block;
            cursor: pointer;
        }

        /* Tooltip text */
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #1DA1F2;
            color: #ffffff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the tooltip element */
            left: 50%;
            margin-left: -100px; /* Center the tooltip */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
        }

        /* Tooltip arrow */
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%; /* At the bottom of the tooltip */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1DA1F2 transparent transparent transparent;
        }

        /* Show the tooltip text when hovering */
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

    </style>
</head>
<body>

<div class="container">
    <!-- Left Column -->
    <div class="column left-column">
        <div class="header">
            <h2>[ IDLE TPOT ]</h2>
            <h4>by <a href="https://gibsonow.github.io/landing_page/" target="_blank">[og]</a></h4>
        </div>
        <button id="poastButton">Poast</button>
        <div class="menu">
            <h3>Stats</h3>
            <div class="tooltip">
                <p>AURA: <span id="aura">1</span></p>
                <span class="tooltiptext">AURA increases your presence and impact on Poasts.</span>
            </div>
            <button id="buyAuraButton" onclick="purchaseStat('aura')">Buy Aura (Cost: <span id="auraCost">10</span> Likes)</button>

            <div class="tooltip">
                <p>ALGO PULL: <span id="algoPull">1</span></p>
                <span class="tooltiptext">ALGO PULL enhances your visibility in algorithms.</span>
            </div>
            <button id="buyAlgoPullButton" onclick="purchaseStat('algoPull')">Buy Algo Pull (Cost: <span id="algoPullCost">10</span> RTs)</button>

            <div class="tooltip">
                <p>CRACKED: <span id="cracked">1</span></p>
                <span class="tooltiptext">CRACKED amplifies your efficiency and gains.</span>
            </div>
            <button id="buyCrackedButton" onclick="purchaseStat('cracked')">Buy Cracked (Cost: <span id="crackedCost">10</span> Bookmarks)</button>
        </div>
        <div class="currencies">
            <h3>Currencies</h3>
            <p>‚ù§Ô∏è Likes: <span id="likes">0</span></p>
            <p>üîÅ RTs: <span id="rts">0</span></p>
            <p>üîñ Bookmarks: <span id="bookmarks">0</span></p>
        </div>
        <div class="followers">
            <h3>Followers</h3>
            <div class="tooltip">
                <p><span id="followers">0</span></p>
                <span class="tooltiptext">FOLLOWERS dictates the initial reach of your Poasts.</span>
            </div>
        </div>
        <div class="save-buttons">
            <button onclick="manualSaveGame()">Save Game</button>
            <button onclick="loadGame()">Load Game</button>
            <button onclick="exportGame()">Export Save</button>
            <button onclick="importGame()">Import Save</button>
        </div>
        <!-- Notification Area -->
        <div id="notification"></div>
        <div class="ko-fi">
            <p>Enjoying the game? Toss me a buck on <a href="https://ko-fi.com/owengibson" target="_blank">Ko-Fi</a>!</p>
        </div>
    </div>

    <!-- Center Column -->
    <div class="column center-column">
        <h2>Poasts</h2>
        <div id="poasts"></div>
    </div>

    <!-- Right Column -->
    <div class="column right-column">
        <h2>Autopoasters</h2>
        <div id="autopoasters">
            <!-- Autopoasters will be dynamically added here -->
        </div>
    </div>

    <!-- Upgrade Column -->
    <div class="column upgrade-column">
        <h2>Upgrades</h2>
        <div id="upgrades">
            <!-- Upgrades will be dynamically added here -->
        </div>
    </div>
</div>

<script>
    // JavaScript Code

    // Game Variables
    let likes = 0;
    let rts = 0;
    let bookmarks = 0;

    let aura = 1;
    let algoPull = 1;
    let cracked = 1;

    let followers = 0;

    let poastCount = 0;

    // Costs for purchasing stats
    let auraCost = 10;
    let algoPullCost = 10;
    let crackedCost = 10;

    // Prestige Variables
    let prestigeCount = 0; // Tracks how many Prestiges have been purchased
    let prestigeBonus = 0; // Start with 0% bonus

    let upgrades = [
        {
            name: "Goated Lowbie Shoutout",
            description: "A bigger account has gazed mercifully upon you. Use this opportunity wisely...",
            effectDescription: "Relevance now lasts +1 second longer, netting you more followers per Poast.",
            cost: { likes: 10, rts: 2, bookmarks: 0 },
            effect: function() {
                relevanceDuration += 1;
            },
            purchased: false
        },
        {
            name: "Learning Computer Arch from Transistors",
            description: "You fully understand the might of the silicon stack.",
            effectDescription: "CRACKED now has higher potency.",
            cost: { likes: 15, rts: 5, bookmarks: 1 },
            effect: function() {
                crackedPotency += 1;
            },
            purchased: false
        },
        {
            name: "Web Framework Hateposting",
            description: "Building webapps is for NERDS.",
            effectDescription: "+2% more LIKES per Poast.",
            cost: { likes: 30, rts: 10, bookmarks: 3 },
            effect: function() {
                likesMultiplier += 0.02;
            },
            purchased: false
        },
        {
            name: "Getting added to the 'Getting Hunted Down and Eaten' list",
            description: "That's probably a good sign.",
            effectDescription: "AURA now has higher potency.",
            cost: { likes: 40, rts: 20, bookmarks: 10 },
            effect: function() {
                auraPotency += 1;
            },
            purchased: false
        },
        {
            name: "Dating Spaces",
            description: "Hopefully your date never finds out about this.",
            effectDescription: "+2% more RTS per Poast",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                rtsMultiplier += 0.02;
            },
            purchased: false
        },
        {
            name: "Esoteric Poasting",
            description: "What did you see?",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "AI/ML Progress Updates",
            description: "DAY 57: Woke up, Drank Espresso, Built a new GPU Cluster, Got out of bed",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Bearblog Posts",
            description: "Everyone must know your hot take on React.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "CS Textbook Studying",
            description: "You are the most interesting person in the Starbucks.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Anime PFP",
            description: "It's actually a high-TC signal, Dad.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "New LLM Hype Train",
            description: "AGI has been achieved, for real this time.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Building something from Scratch in C",
            description: "Just so long as it isn't an HTTP server.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Building a Joke Website",
            description: "Who would waste time on something like that?",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Landed an SF job",
            description: "Your oomfies were rooting for you all along!",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Started a Startup",
            description: "One more B2B SaaS should do it.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Non-Anime PFP",
            description: "It's actually an anti-signal, Dad.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Unexplainable Aura Spike",
            description: "Throughout Heaven and Earth...",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Learning Zig",
            description: "... you alone are the Honored One.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Accepted into Y-Combinator",
            description: "Now you can be a success, just like *checks notes* reddit",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Lex Friedman Podcast Guest",
            description: "Peace and Love, man.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Sold your startup to FAANG",
            description: "Eh, being a founder was boring anyways.",
            effectDescription: "",
            cost: { likes: 1, rts: 1, bookmarks: 1 },
            effect: function() {
                
            },
            purchased: false
        },
        {
            name: "Prestige",
            description: "You got too big, flew too close to the sun. There's only one thing left to do: make a new alt.",
            effectDescription: "Lose ALL progress, but Gain +1% more followers per Poast permanently.",
            cost: { likes: 5, rts: 5, bookmarks: 5 },
            effect: function() {
                prestige();
            },
            purchased: false,
            repeatable: true // Indicates that this upgrade can be purchased multiple times
        }
        // Add more upgrades here
    ];

    let autopoasters = [
        {
            name: "GPT2",
            description: "The Breakthrough.",
            effectDescription: "Posts automatically every 10 seconds using 10% of your stats.",
            baseCost: { likes: 100, rts: 30, bookmarks: 10 },
            cost: { likes: 100, rts: 30, bookmarks: 10 },
            costScaling: 1.5, // Scaling factor for cost increase
            baseInterval: 10000, // Base interval of 10 seconds
            interval: 10000, // Current interval (adjusted based on owned)
            potency: 0.1, // 10% of your stats
            owned: 0,
            timer: null
        },
        {
            name: "GPT3",
            description: "The Great Leap Forward.",
            effectDescription: "Posts automatically every 7 seconds using 12% of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 300, rts: 100, bookmarks: 50 },
            costScaling: 1.6, // Scaling factor for cost increase
            baseInterval: 7000, // Base interval of 7 seconds
            interval: 7000, // Current interval (adjusted based on owned)
            potency: 0.12, // 12% of your stats
            owned: 0,
            timer: null
        },
        {
            name: "CHATGPT",
            description: "The Starting Gun.",
            effectDescription: "Posts automatically every 5 seconds using 20% of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6, // Scaling factor for cost increase
            baseInterval: 5000, // Base interval of 5 seconds
            interval: 5000, // Current interval (adjusted based on owned)
            potency: 0.2, // 20% of your stats
            owned: 0,
            timer: null
        },
        {
            name: "CLAUDE",
            description: "The Competitor.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "LLAMA",
            description: "The Local Legend.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "GPT4",
            description: "The Refined Product.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "CLAUDE SONNET",
            description: "The Best in Class.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "LLAMA 2",
            description: "The Lovely Legend.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "GOLDEN GATE CLAUDE",
            description: "The Hyperfixator.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "LLAMA 3",
            description: "The Luxurious Legend.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        {
            name: "GPTo1",
            description: "The Strawberry.",
            effectDescription: "Posts automatically every  seconds using % of your stats.",
            baseCost: { likes: 300, rts: 100, bookmarks: 50 },
            cost: { likes: 500, rts: 300, bookmarks: 100 },
            costScaling: 1.6,
            baseInterval: 5000,
            interval: 5000,
            potency: 0.2,
            owned: 0,
            timer: null
        },
        // Add more autopoasters here
    ];

    // Game Mechanics Variables
    let relevanceDuration = 1; // seconds
    let algoPullPotency = 1;
    let auraPotency = 1;
    let crackedPotency = 1;
    let likesMultiplier = 1;
    let rtsMultiplier = 1;
    let bookmarksMultiplier = 1;

    // Update Display
    function updateDisplay() {
        document.getElementById('likes').innerText = Math.floor(likes);
        document.getElementById('rts').innerText = Math.floor(rts);
        document.getElementById('bookmarks').innerText = Math.floor(bookmarks);

        document.getElementById('aura').innerText = aura;
        document.getElementById('algoPull').innerText = algoPull;
        document.getElementById('cracked').innerText = cracked;

        document.getElementById('followers').innerText = Math.floor(followers);

        document.getElementById('auraCost').innerText = auraCost;
        document.getElementById('algoPullCost').innerText = algoPullCost;
        document.getElementById('crackedCost').innerText = crackedCost;

        // Update Stat Purchasing Buttons
        const buyAuraButton = document.getElementById('buyAuraButton');
        if (likes >= auraCost) {
            buyAuraButton.disabled = false;
            buyAuraButton.classList.remove('disabled');
        } else {
            buyAuraButton.disabled = true;
            buyAuraButton.classList.add('disabled');
        }

        const buyAlgoPullButton = document.getElementById('buyAlgoPullButton');
        if (rts >= algoPullCost) {
            buyAlgoPullButton.disabled = false;
            buyAlgoPullButton.classList.remove('disabled');
        } else {
            buyAlgoPullButton.disabled = true;
            buyAlgoPullButton.classList.add('disabled');
        }

        const buyCrackedButton = document.getElementById('buyCrackedButton');
        if (bookmarks >= crackedCost) {
            buyCrackedButton.disabled = false;
            buyCrackedButton.classList.remove('disabled');
        } else {
            buyCrackedButton.disabled = true;
            buyCrackedButton.classList.add('disabled');
        }

        // Update Upgrades
        upgrades.forEach((upgrade, index) => {
            const upgradeDiv = document.getElementById('upgrade-' + index);
            const button = document.getElementById('upgrade-button-' + index);
            const costElement = document.getElementById('upgrade-cost-' + index);

            if (upgrade.repeatable) {
                // For Prestige upgrade
                button.innerText = `Prestige (${prestigeCount})`;
                costElement.innerText = `Cost: ${upgrade.cost.likes} Likes, ${upgrade.cost.rts} RTs, ${upgrade.cost.bookmarks} Bookmarks`;

                if (canAfford(upgrade.cost)) {
                    upgradeDiv.classList.remove('disabled');
                    button.disabled = false;
                } else {
                    upgradeDiv.classList.add('disabled');
                    button.disabled = true;
                }
            } else {
                if (!upgrade.purchased && canAfford(upgrade.cost)) {
                    upgradeDiv.classList.remove('disabled');
                    button.disabled = false;
                } else {
                    upgradeDiv.classList.add('disabled');
                    button.disabled = true;
                }
            }
        });

        // Update Autopoasters
        autopoasters.forEach((autopoaster, index) => {
            const autopoasterDiv = document.getElementById('autopoaster-' + index);
            const button = document.getElementById('autopoaster-button-' + index);
            document.getElementById('autopoaster-owned-' + index).innerText = autopoaster.owned;
            document.getElementById('autopoaster-cost-' + index).innerText = `${autopoaster.cost.likes} Likes, ${autopoaster.cost.rts} RTs, ${autopoaster.cost.bookmarks} Bookmarks`;
            if (canAfford(autopoaster.cost)) {
                autopoasterDiv.classList.remove('disabled');
                button.disabled = false;
            } else {
                autopoasterDiv.classList.add('disabled');
                button.disabled = true;
            }
        });
    }

    // Can Afford Function
    function canAfford(cost) {
        return likes >= cost.likes && rts >= cost.rts && bookmarks >= cost.bookmarks;
    }

    // Purchase Stat
    function purchaseStat(stat) {
        if (stat === 'aura' && likes >= auraCost) {
            likes -= auraCost;
            aura += 1;
            auraCost = Math.floor(auraCost * 1.5);
        } else if (stat === 'algoPull' && rts >= algoPullCost) {
            rts -= algoPullCost;
            algoPull += 1;
            algoPullCost = Math.floor(algoPullCost * 1.5);
        } else if (stat === 'cracked' && bookmarks >= crackedCost) {
            bookmarks -= crackedCost;
            cracked += 1;
            crackedCost = Math.floor(crackedCost * 1.5);
        }
        updateDisplay();
    }

    // Purchase Upgrade
    function purchaseUpgrade(index) {
        const upgrade = upgrades[index];
        if ((upgrade.repeatable || !upgrade.purchased) && canAfford(upgrade.cost)) {
            likes -= upgrade.cost.likes;
            rts -= upgrade.cost.rts;
            bookmarks -= upgrade.cost.bookmarks;
            upgrade.effect();
            if (!upgrade.repeatable) {
                upgrade.purchased = true;
                const button = document.getElementById('upgrade-button-' + index);
                button.innerText = 'Purchased';
                button.disabled = true;
            }
            updateDisplay();
        }
    }


    // Purchase Autopoaster
    function purchaseAutopoaster(index) {
        const autopoaster = autopoasters[index];
        if (canAfford(autopoaster.cost)) {
            likes -= autopoaster.cost.likes;
            rts -= autopoaster.cost.rts;
            bookmarks -= autopoaster.cost.bookmarks;
            autopoaster.owned += 1;

            // Scale the cost
            autopoaster.cost.likes = Math.floor(autopoaster.cost.likes * autopoaster.costScaling);
            autopoaster.cost.rts = Math.floor(autopoaster.cost.rts * autopoaster.costScaling);
            autopoaster.cost.bookmarks = Math.floor(autopoaster.cost.bookmarks * autopoaster.costScaling);

            updateAutopoasterInterval(autopoaster);
            updateDisplay();
        }
    }

    // Update Autopoaster Interval Based on Owned
    function updateAutopoasterInterval(autopoaster) {
        // Clear existing timer
        if (autopoaster.timer) {
            clearInterval(autopoaster.timer);
        }

        // Calculate new interval
        autopoaster.interval = autopoaster.baseInterval / autopoaster.owned;

        // Ensure the interval is not less than a minimum value to prevent excessive calls
        const minInterval = 100; // Minimum interval of 100 milliseconds
        if (autopoaster.interval < minInterval) {
            autopoaster.interval = minInterval;
        }

        // Start new timer with updated interval
        autopoaster.timer = setInterval(() => {
            poast(false, autopoaster.potency, autopoaster.name);
        }, autopoaster.interval);
    }

    function poast(isManual = true, potency = 1, poasterName = 'You') {
        poastCount += 1;
        
        // Initial relevance set for the poast
        let poastRelevance = relevanceDuration; 
        let poastFollowers = followers;

        // Simulate Viral Chance
        let viralChance = Math.random() * (followers + aura + algoPull + cracked);
        if (viralChance > 1000) {
            // Viral Poast
            poastFollowers *= 2;
        }

        // Function to decay relevance over time
        function decayRelevance() {
            poastRelevance -= 0.1; // Adjust decay rate as necessary
            if (poastRelevance < 0) {
                poastRelevance = 0; // Relevance should not go below 0
            }
        }

        // Calculate Rewards (likes, RTs, bookmarks)
        let gainedLikes = (Math.random() * ((poastFollowers + algoPull + cracked) / 10 )) * potency * likesMultiplier;
        let gainedRTs = (Math.random() * ((poastFollowers + aura + cracked) / 20 )) * potency * rtsMultiplier;
        let gainedBookmarks = (Math.random() * ((poastFollowers + aura + algoPull) / 80 )) * potency * bookmarksMultiplier;

        likes += gainedLikes;
        rts += gainedRTs;
        bookmarks += gainedBookmarks;

        // Gain Followers (affected by decaying relevance)
        let gainedFollowers = (aura + algoPull + cracked) * (poastRelevance / relevanceDuration) * potency;
        gainedFollowers *= (1 + prestigeBonus); // Apply prestige bonus to follower gains
        followers += gainedFollowers;

        // Decay the relevance every second for this poast
        let relevanceDecayInterval = setInterval(() => {
            decayRelevance();
            if (poastRelevance === 0) {
                clearInterval(relevanceDecayInterval); // Stop decaying when relevance hits 0
            }
        }, 1000); // 1000 ms = 1 second, adjust for faster or slower decay

        // Display Poast
        displayPoast(poastCount, gainedLikes, gainedRTs, gainedBookmarks, poasterName);

        updateDisplay();
    }

    const sentences = [
        "the {noun}s are {adjective}",
        "she {verb} on my {noun} till i {adjective}",
        "it's not {adjective} till its {adjective}",
        "who said {noun}s werent {adjective}",
        "ive never met a {adjective} {noun} that {verb}",
        "i built a {noun} from scratch in C",
        "you need to get your {noun} {adjective}",
        "who needs {noun} when you got {noun}",
        "this is me when i {verb} my {noun}",
        "we should {noun} that {verb} on purpose",
        "theres a lot of {adjective} {noun}s on the tl today",
        "i went to the {adjective} factory and everyone knew you",
        "i went to the {adjective} factory and nobody knew you",
        "we are so {adjective}",
        "it has never been so {adjective}",
        "who here {verb} at 3 in the morning",
    ];

    const adjectives = ["goated", "based", "gonked", "hype", "delusional", "alright", "cracked", "trained", "over", "back", "kino", "ngmi"];
    const nouns = ["lowbie", "VC", "hairdresser", "aura", "stack", "LLM", "engie", "model", "soft skill", "CS grad", "SF", "React", "Haskell", "Zig", "poaster", "swe", "grass", "nvim", "replyguy", "highbie", "oomfie", "mf", "chat"];
    const verbs = [ "fights", "ships", "flies", "eats", "sleeps", "follows", "rocks", "programs", "gaslights", "touches", "crashes", "poasts", "tweets", "yaps"];

    function generateRandomPoast() {
        const sentence = sentences[Math.floor(Math.random() * sentences.length)];

        // Function to get a random word from the given array based on type
        function getRandomWord(type) {
            if (type === "adjective") {
                return adjectives[Math.floor(Math.random() * adjectives.length)];
            } else if (type === "noun") {
                return nouns[Math.floor(Math.random() * nouns.length)];
            } else if (type === "verb") {
                return verbs[Math.floor(Math.random() * verbs.length)];
            }
            return "";
        }

        // Replace placeholders with random words
        const poast = sentence.replace(/\{(adjective|noun|verb)\}/g, (match, p1) => {
            return getRandomWord(p1);
        });

        return poast;
    }



    function displayPoast(id, likesGained, rtsGained, bookmarksGained, poasterName) {
        const poastsDiv = document.getElementById('poasts');
        const poastDiv = document.createElement('div');
        poastDiv.className = 'poast';

        // Generate dynamic content
        const poastContent = generateRandomPoast();

        poastDiv.innerHTML = `
            <p>${poastContent}</p>
            <p><em>${poasterName} made Poast #${id}</em></p>
            <div class="poast-currencies">
                <span>‚ù§Ô∏è ${Math.floor(likesGained)}</span>
                <span>üîÅ ${Math.floor(rtsGained)}</span>
                <span>üîñ ${Math.floor(bookmarksGained)}</span>
            </div>
        `;
        poastsDiv.prepend(poastDiv);
        //limit to 100 poasts loaded onscreen at a time
        while (poastsDiv.childElementCount > 100) {
            poastsDiv.removeChild(poastsDiv.lastChild);
        }
    }

    function prestige() {
        prestigeCount += 1; // Increment the prestige count

        // Update the prestige bonus
        prestigeBonus = 0.01 * prestigeCount;

        // Reset currencies, stats, autopoasters, upgrades, followers, and poasts
        likes = 0;
        rts = 0;
        bookmarks = 0;

        aura = 1;
        algoPull = 1;
        cracked = 1;

        auraCost = 10;
        algoPullCost = 10;
        crackedCost = 10;

        followers = 0;
        poastCount = 0;

        // Reset autopoasters
        autopoasters.forEach(ap => {
            ap.owned = 0;
            clearInterval(ap.timer); // Stop autopoasting
            ap.timer = null;
            ap.cost = { ...ap.baseCost }; // Reset autopoaster cost to base
        });

        // Reset upgrades
        upgrades.forEach((upgrade, index) => {
            if (upgrade.name !== "Prestige") {
                upgrade.purchased = false;
                const button = document.getElementById('upgrade-button-' + index);
                if (button) {
                    button.innerText = 'Purchase';
                    button.disabled = false;
                }
            }
        });

        // Clear Poasts column
        const poastsDiv = document.getElementById('poasts');
        poastsDiv.innerHTML = '';

        // Increase the cost of Prestige for next time (scaling)
        const prestigeUpgrade = upgrades.find(upg => upg.name === "Prestige");
        if (prestigeUpgrade) {
            prestigeUpgrade.cost.likes = Math.floor(prestigeUpgrade.cost.likes * 1.5);
            prestigeUpgrade.cost.rts = Math.floor(prestigeUpgrade.cost.rts * 1.5);
            prestigeUpgrade.cost.bookmarks = Math.floor(prestigeUpgrade.cost.bookmarks * 1.5);
        }

        updateDisplay();
    }



    // Initialize Upgrades
    function initUpgrades() {
        const upgradesDiv = document.getElementById('upgrades');
        upgrades.forEach((upgrade, index) => {
            const upgradeDiv = document.createElement('div');
            upgradeDiv.className = 'upgrade';
            upgradeDiv.id = 'upgrade-' + index;
            upgradeDiv.innerHTML = `
                <h3>${upgrade.name}</h3>
                <p>${upgrade.description}</p>
                <p><em>${upgrade.effectDescription}</em></p>
                <p id="upgrade-cost-${index}">Cost: ${upgrade.cost.likes} Likes, ${upgrade.cost.rts} RTs, ${upgrade.cost.bookmarks} Bookmarks</p>
                <button id="upgrade-button-${index}" onclick="purchaseUpgrade(${index})">Purchase</button>
            `;
            upgradesDiv.appendChild(upgradeDiv);
        });
    }


    // Initialize Autopoasters
    function initAutopoasters() {
        const autopoastersDiv = document.getElementById('autopoasters');
        autopoasters.forEach((autopoaster, index) => {
            const autopoasterDiv = document.createElement('div');
            autopoasterDiv.className = 'autopoaster';
            autopoasterDiv.id = 'autopoaster-' + index;
            autopoasterDiv.innerHTML = `
                <h3>${autopoaster.name}</h3>
                <p>${autopoaster.description}</p>
                <p><em>${autopoaster.effectDescription}</em></p>
                <p>Owned: <span id="autopoaster-owned-${index}">0</span></p>
                <p>Cost: <span id="autopoaster-cost-${index}">${autopoaster.cost.likes} Likes, ${autopoaster.cost.rts} RTs, ${autopoaster.cost.bookmarks} Bookmarks</span></p>
                <button id="autopoaster-button-${index}" onclick="purchaseAutopoaster(${index})">Purchase</button>
            `;
            autopoastersDiv.appendChild(autopoasterDiv);
        });
    }

    // Save Game
    function saveGame(showNotification = false) {
        const gameData = {
            likes,
            rts,
            bookmarks,
            aura,
            algoPull,
            cracked,
            auraCost,
            algoPullCost,
            crackedCost,
            followers,
            prestigeCount,
            prestigeBonus,
            upgrades: upgrades.map(upg => ({
                purchased: upg.purchased,
                cost: upg.cost
            })),
            autopoasters: autopoasters.map(ap => ({
                owned: ap.owned,
                interval: ap.interval,
                cost: ap.cost
            })),
        };
        localStorage.setItem('idleTpotSave', JSON.stringify(gameData));

        if (showNotification) {
            showMessage('Game saved!');
        } else {
            showMessage('Game auto-saved!');
        }
    }


    // Manual Save Game (with notification)
    function manualSaveGame() {
        saveGame(true);
    }

    // Show Notification Message
    function showMessage(message) {
        const notificationDiv = document.getElementById('notification');
        notificationDiv.innerText = message;
        notificationDiv.style.opacity = 1;
        setTimeout(() => {
            notificationDiv.style.opacity = 0;
        }, 3000); // Fade out after 3 seconds
    }

    // Load Game
    function loadGame() {
        const savedData = JSON.parse(localStorage.getItem('idleTpotSave'));
        if (savedData) {
            likes = savedData.likes;
            rts = savedData.rts;
            bookmarks = savedData.bookmarks;
            aura = savedData.aura;
            algoPull = savedData.algoPull;
            cracked = savedData.cracked;
            auraCost = savedData.auraCost;
            algoPullCost = savedData.algoPullCost;
            crackedCost = savedData.crackedCost;
            followers = savedData.followers;
            prestigeCount = savedData.prestigeCount || 0;
            prestigeBonus = savedData.prestigeBonus || 0;

            savedData.upgrades.forEach((purchased, index) => {
                upgrades[index].purchased = purchased;
                if (purchased) {
                    upgrades[index].effect();
                    const button = document.getElementById('upgrade-button-' + index);
                    button.innerText = 'Purchased';
                    button.disabled = true;
                }
            });
            savedData.autopoasters.forEach((data, index) => {
                autopoasters[index].owned = data.owned;
                autopoasters[index].interval = data.interval || autopoasters[index].baseInterval / autopoasters[index].owned;
                autopoasters[index].cost = data.cost || autopoasters[index].cost;
                if (autopoasters[index].owned > 0) {
                    updateAutopoasterInterval(autopoasters[index]);
                }
            });
            updateDisplay();
            showMessage('Game loaded!');
        } else {
            showMessage('No save data found.');
        }
    }

    // Export Game Save
    function exportGame() {
        const saveData = localStorage.getItem('idleTpotSave');
        if (saveData) {
            prompt('Copy your save data:', saveData);
        } else {
            alert('No save data to export.');
        }
    }

    // Import Game Save
    function importGame() {
        const saveData = prompt('Paste your save data:');
        if (saveData) {
            localStorage.setItem('idleTpotSave', saveData);
            loadGame();
        }
    }

    // Poast Button Event
    document.getElementById('poastButton').addEventListener('click', () => {
        poast();
    });

    // Initialize Game
    function initGame() {
        initUpgrades();
        initAutopoasters();
        updateDisplay();
        //loadGame();
    }

    initGame();

    // Auto-save every 60 seconds
    setInterval(() => {
        saveGame();
    }, 60000);

</script>

</body>
</html>
